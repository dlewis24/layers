<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Layers: 3layer/io.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Layers
   </div>
   <div id="projectbrief">Diffusion in heterogeneous environments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6e2e09cf836152d8cb4bbc39bdd8dcc.html">3layer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">io.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Input/output functions that are useful for 3layer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="3layer_2header_8h_source.html">header.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for io.c:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c__incl.png" border="0" usemap="#3layer_2io_8c" alt=""/></div>
<map name="3layer_2io_8c" id="3layer_2io_8c">
<area shape="rect" id="node2" href="3layer_2header_8h.html" title="Header file for program 3layer. " alt="" coords="363,80,435,107"/>
</map>
</div>
</div>
<p><a href="io_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d41abd9893f83aa04a59322193bfc59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a8d41abd9893f83aa04a59322193bfc59">get_filename</a> (char *in, char *out)</td></tr>
<tr class="memdesc:a8d41abd9893f83aa04a59322193bfc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure that the filename is not too long.  <a href="#a8d41abd9893f83aa04a59322193bfc59">More...</a><br /></td></tr>
<tr class="separator:a8d41abd9893f83aa04a59322193bfc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1040c3c715c63276e542f1ef808e5fd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a1040c3c715c63276e542f1ef808e5fd4">get_io_filenames</a> (char *argstring, const char *inf_extension, const char *outf_extension, char *infilename, char *outfilename)</td></tr>
<tr class="memdesc:a1040c3c715c63276e542f1ef808e5fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the input filename and the default output file name.  <a href="#a1040c3c715c63276e542f1ef808e5fd4">More...</a><br /></td></tr>
<tr class="separator:a1040c3c715c63276e542f1ef808e5fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0855c2e0c0f3cf4fdb07da1b245de9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a8c0855c2e0c0f3cf4fdb07da1b245de9">assemble_command</a> (int argc, char *argv[], char *command)</td></tr>
<tr class="memdesc:a8c0855c2e0c0f3cf4fdb07da1b245de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a string containing the command used to run the program.  <a href="#a8c0855c2e0c0f3cf4fdb07da1b245de9">More...</a><br /></td></tr>
<tr class="separator:a8c0855c2e0c0f3cf4fdb07da1b245de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110235991675b58df9ef429b49971570"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="io_8c.html#a110235991675b58df9ef429b49971570">read_source_parameter</a> (char *string, int nsource)</td></tr>
<tr class="memdesc:a110235991675b58df9ef429b49971570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a parameter from the string argument to the additional_sources option.  <a href="#a110235991675b58df9ef429b49971570">More...</a><br /></td></tr>
<tr class="separator:a110235991675b58df9ef429b49971570"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Input/output functions that are useful for 3layer. </p>
<dl class="section author"><dt>Author</dt><dd>David Lewis, CABI, NKI </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU Public License </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2012-2013 </dd></dl>

<p>Definition in file <a class="el" href="io_8c_source.html">io.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8c0855c2e0c0f3cf4fdb07da1b245de9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int assemble_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a string containing the command used to run the program. </p>
<p>It can be very useful for the program's output file to have a comment line that contains the command used to run the program. This function assembles that command into a string from the argc and argv parameters so it can be added to the output file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>Argument count (parameter passed to main) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>Argument vector (parameter passed to main) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">command</td><td>String containing the command line</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements on the command line </dd></dl>

<p>Definition at line <a class="el" href="io_8c_source.html#l00091">91</a> of file <a class="el" href="io_8c_source.html">io.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8d41abd9893f83aa04a59322193bfc59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_filename </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make sure that the filename is not too long. </p>
<p>If the input string is not to big, copy it to the output string. Otherwise, exit with an error message. This function is used to check that the user input filename is not too long.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>Input string = the user input filename (or base filename) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output string = the input string, if not too long </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="io_8c_source.html#l00025">25</a> of file <a class="el" href="io_8c_source.html">io.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a8d41abd9893f83aa04a59322193bfc59_cgraph.png" border="0" usemap="#io_8c_a8d41abd9893f83aa04a59322193bfc59_cgraph" alt=""/></div>
<map name="io_8c_a8d41abd9893f83aa04a59322193bfc59_cgraph" id="io_8c_a8d41abd9893f83aa04a59322193bfc59_cgraph">
<area shape="rect" id="node2" href="3layer_2extras_8c.html#a69bd8ee4a64db532760bc7bf7c6ba80f" title="Print an error message to stderr and exit with status EXIT_FAILURE. " alt="" coords="149,5,197,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a8d41abd9893f83aa04a59322193bfc59_icgraph.png" border="0" usemap="#io_8c_a8d41abd9893f83aa04a59322193bfc59_icgraph" alt=""/></div>
<map name="io_8c_a8d41abd9893f83aa04a59322193bfc59_icgraph" id="io_8c_a8d41abd9893f83aa04a59322193bfc59_icgraph">
<area shape="rect" id="node2" href="3layer_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program. " alt="" coords="317,5,368,32"/>
<area shape="rect" id="node3" href="io_8c.html#a1040c3c715c63276e542f1ef808e5fd4" title="Determine the input filename and the default output file name. " alt="" coords="149,31,269,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1040c3c715c63276e542f1ef808e5fd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_io_filenames </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inf_extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outf_extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>infilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>outfilename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the input filename and the default output file name. </p>
<p>From the last argument on the command line, determine the input file name and the default output file name. (If the output file name is specified on the command line, it will be used instead of the default output file name determined here.)</p>
<p>If the argument has an extension, it is the input filename; remove the extension to get the basename and add the default output filename extension to get the default output filename.</p>
<p>If the argument has no extension, it is the basename; then add the default extensions to get the input filename and the default output filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argstring</td><td>Final command-line argument </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inf_extension</td><td>Default extension for input file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outf_extension</td><td>Default extension for output file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">infilename</td><td>Name of input file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outfilename</td><td>Name of output file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="io_8c_source.html#l00060">60</a> of file <a class="el" href="io_8c_source.html">io.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a1040c3c715c63276e542f1ef808e5fd4_cgraph.png" border="0" usemap="#io_8c_a1040c3c715c63276e542f1ef808e5fd4_cgraph" alt=""/></div>
<map name="io_8c_a1040c3c715c63276e542f1ef808e5fd4_cgraph" id="io_8c_a1040c3c715c63276e542f1ef808e5fd4_cgraph">
<area shape="rect" id="node2" href="io_8c.html#a8d41abd9893f83aa04a59322193bfc59" title="Make sure that the filename is not too long. " alt="" coords="173,5,269,32"/>
<area shape="rect" id="node3" href="3layer_2extras_8c.html#a69bd8ee4a64db532760bc7bf7c6ba80f" title="Print an error message to stderr and exit with status EXIT_FAILURE. " alt="" coords="317,5,365,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a1040c3c715c63276e542f1ef808e5fd4_icgraph.png" border="0" usemap="#io_8c_a1040c3c715c63276e542f1ef808e5fd4_icgraph" alt=""/></div>
<map name="io_8c_a1040c3c715c63276e542f1ef808e5fd4_icgraph" id="io_8c_a1040c3c715c63276e542f1ef808e5fd4_icgraph">
<area shape="rect" id="node2" href="3layer_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program. " alt="" coords="173,5,224,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a110235991675b58df9ef429b49971570"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double read_source_parameter </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a parameter from the string argument to the additional_sources option. </p>
<p>The additional_sources option to 3layer takes several arguments. (The total number of arguments depends on the number of extra sources.) The getopt_long function (used in the <a class="el" href="3layer_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program. ">main()</a> function to parse 3layer's options) takes only one argument per option, so for additional_sources's argument use a string that contains the several arguments that additional_sources needs.</p>
<p>This function uses strtok to parse the string to obtain the next parameter. The two arguments for this function are used only for diagnostic purposes &ndash; if there is an error, the function aborts with an error message that lists these two arguments.</p>
<p>The first element of the string (the number of extra sources) was previously obtained with the first call to strtok, and subsequent calls to strtok (via this function) use NULL rather than the name of the string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>String containing the type of parameter to be read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nsource</td><td>The number of the source whose parameter is being read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of the parameter that is read </dd></dl>

<p>Definition at line <a class="el" href="io_8c_source.html#l00153">153</a> of file <a class="el" href="io_8c_source.html">io.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a110235991675b58df9ef429b49971570_cgraph.png" border="0" usemap="#io_8c_a110235991675b58df9ef429b49971570_cgraph" alt=""/></div>
<map name="io_8c_a110235991675b58df9ef429b49971570_cgraph" id="io_8c_a110235991675b58df9ef429b49971570_cgraph">
<area shape="rect" id="node2" href="3layer_2extras_8c.html#a69bd8ee4a64db532760bc7bf7c6ba80f" title="Print an error message to stderr and exit with status EXIT_FAILURE. " alt="" coords="212,5,260,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="io_8c_a110235991675b58df9ef429b49971570_icgraph.png" border="0" usemap="#io_8c_a110235991675b58df9ef429b49971570_icgraph" alt=""/></div>
<map name="io_8c_a110235991675b58df9ef429b49971570_icgraph" id="io_8c_a110235991675b58df9ef429b49971570_icgraph">
<area shape="rect" id="node2" href="3layer_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program. " alt="" coords="212,5,263,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 6 2017 18:21:12 for Layers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
